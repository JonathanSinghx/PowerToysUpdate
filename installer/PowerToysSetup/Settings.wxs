<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi"
     xmlns:util="http://schemas.microsoft.com/wix/UtilExtension" >

  <?include $(sys.CURRENTDIR)\Common.wxi?>

  <?define SettingsV2AssetsFiles=?>
  <?define SettingsV2AssetsFilesPath=$(var.BinDir)WinUI3Apps\Assets\Settings\?>

  <?define SettingsV2AssetsModulesFiles=?>
  <?define SettingsV2AssetsModulesFilesPath=$(var.BinDir)WinUI3Apps\Assets\Settings\Modules\?>

  <?define SettingsV2OOBEAssetsModulesFiles=?>
  <?define SettingsV2OOBEAssetsModulesFilesPath=$(var.BinDir)WinUI3Apps\Assets\Settings\Modules\OOBE\?>

  <?define SettingsV2OOBEAssetsFluentIconsFiles=?>
  <?define SettingsV2OOBEAssetsFluentIconsFilesPath=$(var.BinDir)WinUI3Apps\Assets\Settings\FluentIcons\?>

  <Fragment>
    <DirectoryRef Id="WinUI3AppsAssetsFolder">
      <Directory Id="SettingsV2AssetsInstallFolder" Name="Settings">
        <Directory Id="SettingsV2OOBEAssetsFluentIconsInstallFolder" Name="FluentIcons" />
        <Directory Id="SettingsV2AssetsModulesInstallFolder" Name="Modules" >
          <Directory Id="SettingsV2OOBEAssetsModulesInstallFolder" Name="OOBE" />
        </Directory>
      </Directory>
    </DirectoryRef>
    <DirectoryRef Id="SettingsV2AssetsInstallFolder" FileSource="$(var.SettingsV2AssetsFilesPath)">
    <!-- Generated by generateFileComponents.ps1 -->
    <!--SettingsV2AssetsFiles_Component_Def-->
    </DirectoryRef>

    <DirectoryRef Id="SettingsV2AssetsModulesInstallFolder" FileSource="$(var.SettingsV2AssetsModulesFilesPath)">
    <!-- Generated by generateFileComponents.ps1 -->
    <!--SettingsV2AssetsModulesFiles_Component_Def-->
    </DirectoryRef>

    <DirectoryRef Id="SettingsV2OOBEAssetsModulesInstallFolder" FileSource="$(var.SettingsV2OOBEAssetsModulesFilesPath)">
    <!-- Generated by generateFileComponents.ps1 -->
    <!--SettingsV2OOBEAssetsModulesFiles_Component_Def-->
    </DirectoryRef>

    <DirectoryRef Id="SettingsV2OOBEAssetsFluentIconsInstallFolder" FileSource="$(var.SettingsV2OOBEAssetsFluentIconsFilesPath)">
    <!-- Generated by generateFileComponents.ps1 -->
    <!--SettingsV2OOBEAssetsFluentIconsFiles_Component_Def-->
    </DirectoryRef>

    <ComponentGroup Id="SettingsComponentGroup">

      <Component Id="RemoveSettingsFolder" Guid="2D3AEF68-4E5A-4FF9-A5C0-9E53391AC754" Directory="SettingsV2AssetsInstallFolder" >
        <RegistryKey Root="$(var.RegistryScope)" Key="Software\Classes\powertoys\components">
          <RegistryValue Type="string" Name="RemoveSettingsFolder" Value="" KeyPath="yes"/>
        </RegistryKey>
        <RemoveFolder Id="RemoveFolderSettingsV2AssetsInstallFolder" Directory="SettingsV2AssetsInstallFolder" On="uninstall"/>
        <RemoveFolder Id="RemoveFolderSettingsV2OOBEAssetsFluentIconsInstallFolder" Directory="SettingsV2OOBEAssetsFluentIconsInstallFolder" On="uninstall"/>
        <RemoveFolder Id="RemoveFolderSettingsV2AssetsModulesInstallFolder" Directory="SettingsV2AssetsModulesInstallFolder" On="uninstall"/>
        <RemoveFolder Id="RemoveFolderSettingsV2OOBEAssetsModulesInstallFolder" Directory="SettingsV2OOBEAssetsModulesInstallFolder" On="uninstall"/>
      </Component>
    </ComponentGroup>

  </Fragment>
</Wix>
